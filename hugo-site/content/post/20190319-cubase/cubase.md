---
title: "CubaseでテンポありのMIDIでの録音を一発でタイムストレッチする方法"
description: "テンポが揺れているMIDI(ちゃんとテンポが記録されている)  と、その揺れているMIDIを使って録音したオーディオトラック(例えばヴォーカル)を、一定のテンポに揃えたり、ストレッチしたりする方法"
date: 2019-03-19T02:43:54+09:00
tags: ["cubase"]
categories: ["blog", "music"]
banner: "20190319-cubase.png"
---


あまりにCubaseに感動したのでシェアがてらblogしておく。

# やりたいこと
テンポが揺れているMIDI(ちゃんとテンポが記録されている)  と、その揺れているMIDIを使って録音したオーディオトラック(例えばヴォーカル)を、一定のテンポに揃えたり、ストレッチしたりしたい。

# MIDIファイルからテンポもインポートするようにする
まず、インポートするMIDIファイルに含まれるテンポ情報をちゃんと(テンポトラックに)インポートするように設定してやることが必要です。
環境設定に「 **MIDI > MIDIファイル > マージ時はマスタートラックイベントを無視** 」というところがあるので、ここのチェックを外しましょう。

{{<figure src="tempo1.png" title="テンポを読み込むように設定する" >}}

# MIDIと、録音オーディオを読み込む
MIDIを読み込んで、テンポトラックを追加してみると、確かにインポートして反映されています。そのまま、「揺れているトラックで録音された通し音源」もインポートします。頭をちゃんと揃えましょうね。

{{<figure src="tempo2.png" title="ちゃんとテンポが読み込めている" >}}
{{<figure src="tempo6.png" title="オーディオを読み込む" >}}

# テンポから定義を設定する
ここがキモです。
このオーディオトラックを選択して、「 **オーディオ>高度な処理>テンポから定義を設定...** 」を選びます。
これで、テンポトラックに応じて、このオーディオにテンポ情報が埋め込まれたような状態になります。揺れていても、ちゃんと入ります。

{{<figure src="tempo3.png" title="テンポから定義を設定... を実行する" >}}

# やりたいようにテンポを変える(と追従してくる)
次はテンポトラックを無効にしたり、いじったりして、好きなテンポにします。
定義が作成されているので、オーディオが追従してストレッチします。
たとえばプロジェクトのテンポを変えたら、もうそれにバッチリあった状態でストレッチされます。

{{<figure src="tempo4.png" title="たとえばテンポトラックをOFFにしてBPMをアップする" >}}

# ストレッチアルゴリズムを選んで高品質にストレッチする
この状態だと、ストレッチアルゴズムが「リアルタイム」になっているせいでケロったりへんなことになりがちです。
そこで、「 **オーディオ>リアルタイム処理>展開** 」を選択すると、ストレッチアルゴリズムが選んでオフライン展開できるので、品質が非常によろしいです。

{{<figure src="tempo5.png" title="アルゴリズムを選んでストレッチを展開する" >}}

# さいごに
Cubaseすごい。
ちなみに私は旧バージョンを愛して使っているので Cubase 6 ですが、おそらく以降のバージョンでもUIは似ているのではないかと。
